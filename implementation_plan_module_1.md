# 日本雪場刮刮樂 - 模組一：遊戲化地圖收集平台 實作計畫

## 1. 專案概述
本階段專注於開發核心的「遊戲化地圖收集平台」。目標是建立一個高互動性、視覺效果強烈的 Web 應用程式，讓使用者能透過「刮刮樂」的形式記錄日本滑雪足跡，並滿足收藏與分享的心理需求。

## 2. 技術架構建議 (Tech Stack)

為了快速驗證並提供高品質的互動體驗，建議採用以下技術棧：

*   **前端 (Frontend)**:
    *   **Framework**: **Next.js** (React) - 支援 SSR 與 SEO，適合未來擴展內容。
    *   **Styling**: **TailwindCSS** - 快速開發響應式設計。
    *   **Animation**: **Framer Motion** - 處理 UI 轉場與微互動。
    *   **Map/Canvas**: **HTML5 Canvas** 或 **Pixi.js** (處理刮刮樂塗層效果) + **SVG** (底圖)。
        *   *備註*: 使用真實地圖 (Mapbox/Google Maps) 可能較難實現「整片刮除」的快感，建議 MVP 使用精美的「風格化日本地圖 SVG」作為底圖。
*   **後端與資料庫 (Backend & DB)**:
    *   **BaaS**: **Supabase** 或 **Firebase**。
        *   提供快速的 Authentication (Google/Social Login)。
        *   提供即時資料庫 (儲存使用者刮開的雪場、進度)。
        *   Storage (儲存使用者上傳的照片或生成的分享圖)。
*   **部署 (Deployment)**: Vercel (配合 Next.js 最佳化)。

## 3. 核心功能細部規劃

### 3.1 雪場刮刮地圖 (Interactive Scratch Map)
*   **視覺呈現**:
    *   **未解鎖狀態**: 地圖覆蓋一層銀色或霧面質感塗層 (類似實體刮刮樂)。
    *   **解鎖狀態**: 使用者點擊或滑動手指「刮開」特定區域，露出底下的彩色地圖與雪場標示。
*   **互動邏輯**:
    *   **搜尋/列表選取**: 使用者搜尋「二世谷」，點擊「我去過！」，地圖自動刮開該區域並播放慶祝特效。
    *   **手動刮除**: (進階) 允許使用者在觸控螢幕上模擬真實刮除動作。
*   **區域劃分**: 北海道、東北、長野/新潟、關西/西日本等大區塊。

### 3.2 成就與等級系統 (Gamification)
*   **等級制**: 根據刮開的數量給予稱號 (e.g., 「雪山初心者」 -> 「粉雪獵人」 -> 「日本制霸」)。
*   **徽章 (Badges)**:
    *   *區域制霸*: 刮開所有北海道雪場。
    *   *連鎖紀錄*: 連續 3 年都有滑雪紀錄。
    *   *隱藏成就*: 刮開特定冷門秘境雪場。

### 3.3 使用者足跡 (User Passport)
*   **個人護照頁面**: 顯示大頭貼、總滑走天數、制霸雪場數。
*   **時間軸**: 以時間順序排列的滑雪旅程 (e.g., "2023.01 - 白馬八方尾根")。

### 3.4 社群分享 (Social Sharing)
*   **動態生成圖片**: 一鍵生成「我的日本滑雪地圖」圖片，包含使用者名稱、統計數據與目前的地圖狀態，方便分享至 Instagram/Facebook。

## 4. 資料結構草案 (Schema Draft)

*   **Users (使用者)**
    *   `id`, `email`, `display_name`, `avatar_url`, `created_at`
*   **Resorts (雪場資料庫)**
    *   `id`, `name_zh`, `name_en`, `name_jp`, `region` (地區), `coordinates` (座標), `difficulty_level`, `tags` (e.g., #粉雪, #親子)
*   **User_Visits (使用者紀錄)**
    *   `id`, `user_id`, `resort_id`, `visit_date`, `rating`, `comment`, `photo_url`
*   **Achievements (成就定義)**
    *   `id`, `title`, `description`, `icon_url`, `condition_logic`
*   **User_Achievements (使用者成就)**
    *   `user_id`, `achievement_id`, `unlocked_at`

## 5. 開發階段規劃 (Roadmap)

### **Phase 1: MVP (最小可行性產品)**
*   **目標**: 讓使用者能看到地圖、標記去過的雪場、生成分享圖。
*   **功能**:
    *   靜態風格化日本地圖。
    *   雪場搜尋與勾選功能 (取代複雜的手動刮除)。
    *   勾選後地圖對應區域變色 (模擬刮開)。
    *   本地儲存 (Local Storage) 暫存進度 (不強制登入)。
    *   匯出圖片功能。

### **Phase 2: 社群與帳號**
*   **目標**: 增加黏著度與數據收集。
*   **功能**:
    *   使用者註冊/登入 (Supabase)。
    *   雲端同步紀錄。
    *   成就徽章系統實裝。
    *   簡單的排行榜。

### **Phase 3: 深度互動 (商業化前置)**
*   **目標**: 增加趣味性與資訊量。
*   **功能**:
    *   真實的手指刮除互動效果 (Canvas)。
    *   雪場詳細資訊頁面 (串接天氣/交通簡介)。
    *   評論與照片上傳功能。

## 6. UI/UX 設計風格建議
*   **色調**: 深色模式 (Dark Mode) 為主，營造質感。
    *   底色: 深藍/黑灰 (代表夜晚或未探索)。
    *   亮色: 螢光藍、冰雪白、活力橘 (代表已探索與活力)。
*   **字體**: 現代無襯線體 (Inter, Noto Sans TC)，強調數字與標題的視覺衝擊力。
*   **特效**: 
    *   刮開時的粒子特效 (雪花飛散)。
    *   獲得徽章時的 3D 翻轉或彈出動畫。

---
**下一步建議**：
是否要先建立 **Phase 1 (MVP)** 的專案結構？我可以為您初始化 Next.js 專案並設置基本的日本地圖組件。
